"use strict";(self.webpackChunkmernapp=self.webpackChunkmernapp||[]).push([[473],{5833:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(5861),r=n(885),s=n(7757),c=n.n(s),o=n(2791),l=n(3504),i=n(6871),d=n(4364),m=n(8086),u=n(3524),h=n(4164),p=n(184),x={position:"fixed",top:"50%",left:"50%",backgroundColor:"rgb(34,34,34)",transform:"translate(-50%, -50%)",zIndex:1e3,height:"90%",width:"90%"},g={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3};function b(e){var t=e.children,n=e.onClose;return h.createPortal((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:g}),(0,p.jsxs)("div",{style:x,children:[(0,p.jsx)("button",{className:"btn bg-danger fs-4",style:{marginLeft:"90%",marginTop:"-35px"},onClick:n,children:" X "}),t]})]}),document.getElementById("cart-root"))}var f=n(7407),j=n(5985),v=n(5904),N=n(3261),y=n.n(N);function k(){var e=y()(),t=(0,r.Z)(e,1)[0],n=(0,i.s0)(),s=(0,u.jD)(),o=(0,u.e2)();if(0===s.length)return(0,p.jsx)("div",{children:(0,p.jsx)("div",{className:"m-5 w-100 text-center text-light fs-3",children:"The Cart is Empty!"})});var l=function(){var e=(0,a.Z)(c().mark((function e(){var t,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userEmail"),e.next=3,fetch("https://techtastebackend.onrender.com/api/auth/orderData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_data:s,email:t,order_date:(new Date).toDateString()})});case 3:a=e.sent,console.log("JSON RESPONSE:::::",a.status),200===a.status&&(o({type:"DROP"}),j.Am.success("Order Successfull!"),n("/myorder  "));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.Z.post("https://techtastebackend.onrender.com/api/auth/razorpay-order-create",{amount:(a=n,isNaN(a)?"Please enter a valid number for INR":100*a)}).then((function(e){var n,a=e.data.order;a&&(console.log(a.id),n=a.id,new t({key:"rzp_test_N7iKIbYFI3runu",amount:"1",currency:"INR",name:"Tech taste",description:"Test Transaction",image:"https://i.ibb.co/qYFbR0M/Screenshot-2024-03-06-001657.png",order_id:n,handler:function(e){e.razorpay_order_id?l():alert("something went wrong")},prefill:{name:"Meenakshi Sharma",email:"exampleemail.com",contact:"8320506797"},method:"googlepay",notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"}}).open())})).catch((function(e){console.log(e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}var a}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),m=s.reduce((function(e,t){return e+t.price}),0);return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md",children:[(0,p.jsxs)("table",{className:"table table-hover ",children:[(0,p.jsx)("thead",{className:" text-success fs-4",children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",children:"#"}),(0,p.jsx)("th",{scope:"col",children:"Name"}),(0,p.jsx)("th",{scope:"col",children:"Quantity"}),(0,p.jsx)("th",{scope:"col",children:"Option"}),(0,p.jsx)("th",{scope:"col",children:"Amount"}),(0,p.jsx)("th",{scope:"col"})]})}),(0,p.jsx)("tbody",{children:s.map((function(e,t){return(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"row",className:"text-light",children:t+1}),(0,p.jsx)("td",{className:"text-light",children:e.name}),(0,p.jsx)("td",{className:"text-light",children:e.qty}),(0,p.jsx)("td",{className:"text-light",children:e.size}),(0,p.jsx)("td",{className:"text-light",children:e.price}),(0,p.jsxs)("td",{className:"text-light",children:[(0,p.jsx)("button",{type:"button",className:"btn p-0 text-light",children:(0,p.jsx)(f.Z,{onClick:function(){o({type:"REMOVE",index:t}),j.Am.success("removed from the cart")}})})," "]})]})}))})]}),(0,p.jsx)("div",{children:(0,p.jsxs)("h1",{className:"fs-2 text-success",children:["Total Price: ",m,"/-"]})}),(0,p.jsx)("div",{children:(0,p.jsxs)("button",{className:"btn bg-success mt-5 ",onClick:function(){return d(m)},children:[" ","Order Now"," "]})})]})})}function w(e){var t=(0,o.useState)(!1),n=(0,r.Z)(t,2),s=n[0],h=n[1];localStorage.setItem("temp","first");var x=(0,i.s0)(),g=localStorage.getItem("isAdmin");!0===g&&(p.Fragment,l.rU);var f=function(){var e=(0,a.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=window.confirm("sure you want to delete all orders ?")){e.next=5;break}return e.next=3,fetch("https://techtastebackend.onrender.com/allordersdelete",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(){j.Am.success("Orders Deleted"),window.location.reload()}));case 3:e.next=6;break;case 5:j.Am.success("Canceled");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=(0,u.jD)();return(0,p.jsx)("div",{children:(0,p.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark  position-sticky",style:{boxShadow:"0px 10px 20px black",filter:"blur(20)",position:"fixed",zIndex:"10",width:"100%",backgroundColor:"#0b325a"},children:(0,p.jsxs)("div",{className:"container-fluid",children:[(0,p.jsx)(l.rU,{className:"navbar-brand fs-1 ",to:"/",children:(0,p.jsx)("b",{children:"Tech Taste"})}),(0,p.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,p.jsx)("span",{className:"navbar-toggler-icon"})}),(0,p.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,p.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,p.jsxs)("li",{className:"nav-item",children:[(0,p.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/",children:"Home"})," "]}),localStorage.getItem("token")?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("li",{className:"nav-item",children:[(0,p.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/myorder",children:"My Orders"})," "]})}):"","true"===g?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/addfooddata",children:"Add Product"})}):"","true"===g?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/allorders",children:"All Orders"})}):"","true"===g?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/productlisting",children:"Product Listing"})}):""]}),localStorage.getItem("token")?(0,p.jsxs)("div",{children:["true"===g?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"btn bg-danger text-white mx-2 ",onClick:f,children:"Delete Orders"})}):"",(0,p.jsxs)("div",{className:"btn bg-white text-success2 mx-2 ",onClick:function(){h(!0)},children:[(0,p.jsx)(d.Z,{color:"secondary",badgeContent:v.length,children:(0,p.jsx)(m.Z,{color:"red"})}),"Cart"]}),s?(0,p.jsx)(b,{onClose:function(){return h(!1)},children:(0,p.jsx)(k,{})}):"",(0,p.jsx)("button",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("isAdmin"),x("/login"),j.Am.success("see you soon!")},className:"btn bg-white text-success2",children:"Logout"})]}):(0,p.jsxs)("form",{className:"d-flex",children:[(0,p.jsx)(l.rU,{className:"btn bg-white text-success mx-1 ",to:"/login",children:"Login"}),(0,p.jsx)(l.rU,{className:"btn bg-white text-success mx-1",to:"/signup",children:"Signup"})]})]})]})})})}},6473:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var a=n(4942),r=n(1413),s=n(5861),c=n(885),o=n(7757),l=n.n(o),i=n(2791),d=n(6871),m=n(3504),u=n(5833),h=(n(5985),n(184));function p(){var e=(0,i.useState)({name:"",email:"",password:"",geolocation:""}),t=(0,c.Z)(e,2),n=t[0],o=t[1],p=(0,i.useState)(""),x=(0,c.Z)(p,2),g=x[0],b=x[1],f=(0,d.s0)(),j=function(){var e=(0,s.Z)(l().mark((function e(t){var s,i,d,m,u,h,p,x;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}))},e.next=4,s().then((function(e){return[e.coords.latitude,e.coords.longitude]}));case 4:return i=e.sent,d=(0,c.Z)(i,2),m=d[0],u=d[1],e.next=8,fetch("https://techtastebackend.onrender.com/api/auth/getlocation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({latlong:{lat:m,long:u}})});case 8:return h=e.sent,e.next=11,h.json();case 11:p=e.sent,x=p.location,b(x),o((0,r.Z)((0,r.Z)({},n),{},(0,a.Z)({},t.target.name,x)));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)(l().mark((function e(t){var a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://techtastebackend.onrender.com/api/auth/createuser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n.name,email:n.email,password:n.password,location:n.geolocation})});case 3:return a=e.sent,e.next=6,a.json();case 6:(r=e.sent).success?(localStorage.setItem("token",r.authToken),f("/login")):alert("Something went wrong");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){o((0,r.Z)((0,r.Z)({},n),{},(0,a.Z)({},e.target.name,e.target.value)))};return(0,h.jsxs)("div",{style:{backgroundImage:'url("https://images.pexels.com/photos/1565982/pexels-photo-1565982.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1")',backgroundSize:"cover",height:"100vh"},children:[(0,h.jsx)("div",{children:(0,h.jsx)(u.Z,{})}),(0,h.jsx)("div",{className:"container",children:(0,h.jsxs)("form",{className:"w-50 m-auto mt-5 border bg-dark border-success rounded",onSubmit:v,children:[(0,h.jsxs)("div",{className:"m-3",children:[(0,h.jsx)("label",{htmlFor:"name",className:"form-label text-light",children:"Name"}),(0,h.jsx)("input",{type:"text",className:"form-control",name:"name",value:n.name,onChange:N,"aria-describedby":"emailHelp"})]}),(0,h.jsxs)("div",{className:"m-3",children:[(0,h.jsx)("label",{htmlFor:"email",className:"form-label text-light",children:"Email address"}),(0,h.jsx)("input",{type:"email",className:"form-control",name:"email",value:n.email,onChange:N,"aria-describedby":"emailHelp"})]}),(0,h.jsxs)("div",{className:"m-3",children:[(0,h.jsx)("label",{htmlFor:"address",className:"form-label text-light",children:"Address"}),(0,h.jsx)("fieldset",{children:(0,h.jsx)("input",{type:"text",className:"form-control",name:"address",placeholder:'"Click below for fetching address"',value:g,onChange:function(e){return b(e.target.value)},"aria-describedby":"emailHelp"})})]}),(0,h.jsx)("div",{className:"m-3",children:(0,h.jsxs)("button",{type:"button",onClick:j,name:"geolocation",className:" btn btn-success",children:["Click for current Location"," "]})}),(0,h.jsxs)("div",{className:"m-3",children:[(0,h.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label text-light",children:"Password"}),(0,h.jsx)("input",{type:"password",className:"form-control",value:n.password,onChange:N,name:"password"})]}),(0,h.jsx)("button",{type:"submit",className:"m-3 btn btn-success",children:"Submit"}),(0,h.jsx)(m.rU,{to:"/login",className:"m-3 mx-1 btn btn-danger",children:"Already a user"})]})})]})}}}]);
//# sourceMappingURL=473.1ddccf14.chunk.js.map