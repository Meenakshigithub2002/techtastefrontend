"use strict";(self.webpackChunkmernapp=self.webpackChunkmernapp||[]).push([[399],{8619:function(e,t,n){n.d(t,{Z:function(){return x}});var s=n(7762),r=n(5861),a=n(885),c=n(7757),i=n.n(c),o=n(2791),l=n(6871),d=n(5985),u=n(3524),m=n(7407),h=n(184);function x(e){var t=(0,u.jD)(),n=(0,l.s0)(),c=(0,o.useState)(1),x=(0,a.Z)(c,2),p=x[0],f=x[1],g=(0,o.useState)(""),j=(0,a.Z)(g,2),v=j[0],b=j[1],N=(0,o.useRef)(),y=e.options,w=e.item,k=(0,u.e2)(),S=function(){localStorage.getItem("token")||n("/login")},C=function(){var n=(0,r.Z)(i().mark((function n(){var r,a,c,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=[],a=(0,s.Z)(t),n.prev=2,a.s();case 4:if((c=a.n()).done){n.next=11;break}if((o=c.value).id!==w._id){n.next=9;break}return r=o,n.abrupt("break",11);case 9:n.next=4;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),a.e(n.t0);case 16:return n.prev=16,a.f(),n.finish(16);case 19:if(r===[]){n.next=34;break}if(r.size!==v){n.next=27;break}return n.next=23,k({type:"UPDATE",id:w._id,price:Z,qty:p});case 23:return d.Am.success("Added to the Cart"),n.abrupt("return");case 27:if(r.size===v){n.next=33;break}return n.next=30,k({type:"ADD",id:w._id,name:w.name,price:Z,qty:p,size:v,img:e.ImgSrc});case 30:return d.Am.success("Added to the Cart"),console.log("Size different so simply ADD one more to the list"),n.abrupt("return");case 33:return n.abrupt("return");case 34:return n.next=36,k({type:"ADD",id:w._id,name:w.name,price:Z,qty:p,size:v});case 36:d.Am.success("Added to the Cart");case 37:case"end":return n.stop()}}),n,null,[[2,13,16,19]])})));return function(){return n.apply(this,arguments)}}();(0,o.useEffect)((function(){b(N.current.value)}),[]);var Z=p*parseInt(v),I=localStorage.getItem("isAdmin"),A=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://techtastebackend.onrender.com/delete-product-by-id/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"}});case 2:e.sent,window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"card mt-3",style:{maxHeight:"460px"},children:[(0,h.jsx)("img",{src:e.ImgSrc,className:"card-img-top",alt:"...",style:{height:"120px",objectFit:"fill"}}),(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h5",{className:"card-title text-dark",children:e.foodName}),(0,h.jsxs)("div",{className:"container w-100 p-0",style:{height:"38px"},children:[(0,h.jsx)("select",{className:"m-2 h-100 w-20 bg-success2 text-light rounded",style:{select:"#FF0000"},onClick:S,onChange:function(e){f(e.target.value)},children:Array.from(Array(6),(function(e,t){return(0,h.jsx)("option",{value:t+1,children:t+1},t+1)}))}),(0,h.jsx)("select",{className:"m-2 h-100 w-20 bg-success2 text-light rounded",style:{select:"#FF0000"},ref:N,onClick:S,onChange:function(e){b(e.target.value)},children:null===y||void 0===y?void 0:y.map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))}),(0,h.jsxs)("div",{className:" d-inline ms-2 h-100 w-20 fs-5 text-dark",children:["\u20b9",Z,"/-"]})]}),(0,h.jsx)("hr",{}),(0,h.jsxs)("div",{className:"w-100",children:[(0,h.jsx)("button",{className:"btn btn-success2 text-light justify-center ms-2 ",onClick:C,children:"Add to Cart"}),"true"===I&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{className:"btn btn-sm btn-danger",style:{float:"right"},onClick:function(){A(e.item._id)},children:(0,h.jsx)(m.Z,{style:{color:"#fff"}})})})]})]})]})})}},8859:function(e,t,n){n.d(t,{Z:function(){return r}});n(2791);var s=n(184);function r(){return(0,s.jsx)("div",{style:{backgroundColor:"#0b325a",display:"none"},children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("footer",{className:"d-flex flex-wrap justify-content-between  align-items-center py-3 my-4 border-top",children:[(0,s.jsxs)("div",{className:"col-md-4 d-flex align-items-center",children:[(0,s.jsx)("a",{href:"/",className:"mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1"}),(0,s.jsx)("span",{className:"text-muted",children:"\xa9 2022 Tech Taste, Inc"})]}),(0,s.jsxs)("ul",{className:"nav col-md-4 justify-content-end list-unstyled d-flex",children:[(0,s.jsx)("li",{className:"ms-3",children:(0,s.jsx)("a",{className:"text-muted",href:"/",children:(0,s.jsx)("svg",{className:"bi",width:"24",height:"24",children:(0,s.jsx)("use",{})})})}),(0,s.jsx)("li",{className:"ms-3",children:(0,s.jsx)("a",{className:"text-muted",href:"/",children:(0,s.jsx)("svg",{className:"bi",width:"24",height:"24",children:(0,s.jsx)("use",{})})})}),(0,s.jsx)("li",{className:"ms-3",children:(0,s.jsx)("a",{className:"text-muted",href:"/",children:(0,s.jsx)("svg",{className:"bi",width:"24",height:"24",children:(0,s.jsx)("use",{})})})})]})]})})})}},5833:function(e,t,n){n.d(t,{Z:function(){return k}});var s=n(5861),r=n(885),a=n(7757),c=n.n(a),i=n(2791),o=n(3504),l=n(6871),d=n(4364),u=n(8086),m=n(3524),h=n(4164),x=n(184),p={position:"fixed",top:"50%",left:"50%",backgroundColor:"rgb(34,34,34)",transform:"translate(-50%, -50%)",zIndex:1e3,height:"90%",width:"90%"},f={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3};function g(e){var t=e.children,n=e.onClose;return h.createPortal((0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:f}),(0,x.jsxs)("div",{style:p,children:[(0,x.jsx)("button",{className:"btn bg-danger fs-4",style:{marginLeft:"90%",marginTop:"-35px"},onClick:n,children:" X "}),t]})]}),document.getElementById("cart-root"))}var j=n(7407),v=n(5985),b=n(5904),N=n(3261),y=n.n(N);function w(){var e=y()(),t=(0,r.Z)(e,1)[0],n=(0,l.s0)(),a=(0,m.jD)(),i=(0,m.e2)();if(0===a.length)return(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"m-5 w-100 text-center text-light fs-3",children:"The Cart is Empty!"})});var o=function(){var e=(0,s.Z)(c().mark((function e(){var t,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userEmail"),e.next=3,fetch("https://techtastebackend.onrender.com/api/auth/orderData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_data:a,email:t,order_date:(new Date).toDateString()})});case 3:s=e.sent,console.log("JSON RESPONSE:::::",s.status),200===s.status&&(i({type:"DROP"}),v.Am.success("Order Successfull!"),n("/myorder  "));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,s.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.post("https://techtastebackend.onrender.com/api/auth/razorpay-order-create",{amount:(s=n,isNaN(s)?"Please enter a valid number for INR":100*s)}).then((function(e){var n,s=e.data.order;s&&(console.log(s.id),n=s.id,new t({key:"rzp_test_N7iKIbYFI3runu",amount:"1",currency:"INR",name:"Tech taste",description:"Test Transaction",image:"https://i.ibb.co/qYFbR0M/Screenshot-2024-03-06-001657.png",order_id:n,handler:function(e){e.razorpay_order_id?o():alert("something went wrong")},prefill:{name:"Meenakshi Sharma",email:"exampleemail.com",contact:"8320506797"},method:"googlepay",notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"}}).open())})).catch((function(e){console.log(e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}var s}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),u=a.reduce((function(e,t){return e+t.price}),0);return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md",children:[(0,x.jsxs)("table",{className:"table table-hover ",children:[(0,x.jsx)("thead",{className:" text-success fs-4",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",children:"#"}),(0,x.jsx)("th",{scope:"col",children:"Name"}),(0,x.jsx)("th",{scope:"col",children:"Quantity"}),(0,x.jsx)("th",{scope:"col",children:"Option"}),(0,x.jsx)("th",{scope:"col",children:"Amount"}),(0,x.jsx)("th",{scope:"col"})]})}),(0,x.jsx)("tbody",{children:a.map((function(e,t){return(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"row",className:"text-light",children:t+1}),(0,x.jsx)("td",{className:"text-light",children:e.name}),(0,x.jsx)("td",{className:"text-light",children:e.qty}),(0,x.jsx)("td",{className:"text-light",children:e.size}),(0,x.jsx)("td",{className:"text-light",children:e.price}),(0,x.jsxs)("td",{className:"text-light",children:[(0,x.jsx)("button",{type:"button",className:"btn p-0 text-light",children:(0,x.jsx)(j.Z,{onClick:function(){i({type:"REMOVE",index:t}),v.Am.success("removed from the cart")}})})," "]})]})}))})]}),(0,x.jsx)("div",{children:(0,x.jsxs)("h1",{className:"fs-2 text-success",children:["Total Price: ",u,"/-"]})}),(0,x.jsx)("div",{children:(0,x.jsxs)("button",{className:"btn bg-success mt-5 ",onClick:function(){return d(u)},children:[" ","Order Now"," "]})})]})})}function k(e){var t=(0,i.useState)(!1),n=(0,r.Z)(t,2),a=n[0],h=n[1];localStorage.setItem("temp","first");var p=(0,l.s0)(),f=localStorage.getItem("isAdmin");!0===f&&(x.Fragment,o.rU);var j=function(){var e=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=window.confirm("sure you want to delete all orders ?")){e.next=5;break}return e.next=3,fetch("https://techtastebackend.onrender.com/allordersdelete",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(){v.Am.success("Orders Deleted"),window.location.reload()}));case 3:e.next=6;break;case 5:v.Am.success("Canceled");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=(0,m.jD)();return(0,x.jsx)("div",{children:(0,x.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark  position-sticky",style:{boxShadow:"0px 10px 20px black",filter:"blur(20)",position:"fixed",zIndex:"10",width:"100%",backgroundColor:"#0b325a"},children:(0,x.jsxs)("div",{className:"container-fluid",children:[(0,x.jsx)(o.rU,{className:"navbar-brand fs-1 ",to:"/",children:(0,x.jsx)("b",{children:"Tech Taste"})}),(0,x.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,x.jsx)("span",{className:"navbar-toggler-icon"})}),(0,x.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,x.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,x.jsxs)("li",{className:"nav-item",children:[(0,x.jsx)(o.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/",children:"Home"})," "]}),localStorage.getItem("token")?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("li",{className:"nav-item",children:[(0,x.jsx)(o.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/myorder",children:"My Orders"})," "]})}):"","true"===f?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(o.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/addfooddata",children:"Add Product"})}):"","true"===f?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(o.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/allorders",children:"All Orders"})}):"","true"===f?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(o.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/productlisting",children:"Product Listing"})}):""]}),localStorage.getItem("token")?(0,x.jsxs)("div",{children:["true"===f?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"btn bg-danger text-white mx-2 ",onClick:j,children:"Delete Orders"})}):"",(0,x.jsxs)("div",{className:"btn bg-white text-success2 mx-2 ",onClick:function(){h(!0)},children:[(0,x.jsx)(d.Z,{color:"secondary",badgeContent:b.length,children:(0,x.jsx)(u.Z,{color:"red"})}),"Cart"]}),a?(0,x.jsx)(g,{onClose:function(){return h(!1)},children:(0,x.jsx)(w,{})}):"",(0,x.jsx)("button",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("isAdmin"),p("/login"),v.Am.success("see you soon!")},className:"btn bg-white text-success2",children:"Logout"})]}):(0,x.jsxs)("form",{className:"d-flex",children:[(0,x.jsx)(o.rU,{className:"btn bg-white text-success mx-1 ",to:"/login",children:"Login"}),(0,x.jsx)(o.rU,{className:"btn bg-white text-success mx-1",to:"/signup",children:"Signup"})]})]})]})})})}},399:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var s=n(5861),r=n(885),a=n(7757),c=n.n(a),i=n(2791),o=n(6871),l=n(8619),d=n(8859),u=n(5833),m=n(4190),h=n(184);function x(){var e=(0,i.useState)([]),t=(0,r.Z)(e,2),n=t[0],a=(t[1],(0,i.useState)([])),x=(0,r.Z)(a,2),p=x[0],f=x[1],g=(0,i.useState)([]),j=(0,r.Z)(g,2),v=j[0],b=j[1],N=(0,i.useState)(""),y=(0,r.Z)(N,2),w=y[0],k=(y[1],(0,i.useState)("")),S=(0,r.Z)(k,2),C=S[0],Z=S[1],I=(0,i.useState)(!0),A=(0,r.Z)(I,2),F=A[0],T=A[1],D=(0,o.s0)();function O(e){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://techtastebackend.onrender.com/foodData",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:n=e.sent,b(n),f(n),T(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}localStorage.getItem("token")||D("/login"),(0,i.useEffect)((function(){O()}),[window.location]);var z=function(){var e=(0,s.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(""),b(p);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return F?(0,h.jsx)(m.Z,{}):(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)(u.Z,{})}),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{id:"carouselExampleFade",className:"carousel slide carousel-fade ","data-bs-ride":"carousel",children:[(0,h.jsxs)("div",{className:"carousel-inner ",id:"carousel",children:[(0,h.jsx)("div",{class:" carousel-caption  ",style:{zIndex:"9"},children:(0,h.jsxs)("div",{className:" d-flex justify-content-center",children:[" ",(0,h.jsx)("input",{className:"form-control me-2 w-75 bg-white text-dark",type:"text",placeholder:"Search in here...","aria-label":"Search",value:C,onChange:function(e){!function(e){var t;""!==C?(t=v.filter((function(e){return e.name.toLowerCase().match(C)})),b(t)):b(t=v)}(e.target.value),Z(e.target.value)}}),(0,h.jsx)("button",{className:"btn text-white bg-danger",onClick:z,children:"Clear Filters"})]})}),(0,h.jsx)("div",{className:"carousel-item active",children:(0,h.jsx)("img",{src:"https://source.unsplash.com/random/900x700/?burger",className:"d-block w-100  ",style:{filter:"brightness(30%)"},alt:"..."})}),(0,h.jsx)("div",{className:"carousel-item",children:(0,h.jsx)("img",{src:"https://source.unsplash.com/random/900x700/?pastry",className:"d-block w-100 ",style:{filter:"brightness(30%)"},alt:"..."})}),(0,h.jsx)("div",{className:"carousel-item",children:(0,h.jsx)("img",{src:"https://source.unsplash.com/random/900x700/?barbeque",className:"d-block w-100 ",style:{filter:"brightness(30%)"},alt:"..."})})]}),(0,h.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide":"prev",children:[(0,h.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,h.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,h.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleFade","data-bs-slide":"next",children:[(0,h.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,h.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})}),(0,h.jsxs)("div",{className:"container",children:[" ",(0,h.jsxs)("div",{className:"container",children:[(0,h.jsx)("h1",{className:"mt-5",children:"Food Products"}),(0,h.jsx)("hr",{}),(0,h.jsx)("div",{className:"row",children:v&&v.map((function(e,t){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-3",children:(0,h.jsx)(l.Z,{foodName:e.name,item:e,options:e.options,ImgSrc:e.img,getMydat:O})},e.id)})}))})]}),n!==[]?n.map((function(e){return(0,h.jsxs)("div",{className:"row mb-3",children:[(0,h.jsx)("div",{className:"fs-3 m-3",children:e.CategoryName},e.id),(0,h.jsx)("hr",{id:"hr-success",style:{height:"4px",backgroundImage:"-webkit-linear-gradient(left,rgb(0, 255, 137),rgb(0, 0, 0))"}}),v!==[]?v.filter((function(t){return t.CategoryName===e.CategoryName&&t.name.toLowerCase().includes(w.toLowerCase())})).map((function(e){return(0,h.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,h.jsx)(l.Z,{foodName:e.name,item:e,options:e.options[0],ImgSrc:e.img})},e.id)})):(0,h.jsx)("div",{children:" No Such Data "})]})})):""]}),(0,h.jsx)(d.Z,{})]})}},7762:function(e,t,n){n.d(t,{Z:function(){return r}});var s=n(181);function r(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,s.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw c}}}}}}]);
//# sourceMappingURL=399.3c3be69a.chunk.js.map