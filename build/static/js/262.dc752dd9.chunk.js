"use strict";(self.webpackChunkmernapp=self.webpackChunkmernapp||[]).push([[262],{5833:function(e,t,s){s.d(t,{Z:function(){return w}});var r=s(5861),n=s(885),a=s(7757),c=s.n(a),o=s(2791),l=s(3504),i=s(6871),d=s(4364),m=s(8086),u=s(3524),h=s(4164),x=s(184),p={position:"fixed",top:"50%",left:"50%",backgroundColor:"rgb(34,34,34)",transform:"translate(-50%, -50%)",zIndex:1e3,height:"90%",width:"90%"},g={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3};function b(e){var t=e.children,s=e.onClose;return h.createPortal((0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:g}),(0,x.jsxs)("div",{style:p,children:[(0,x.jsx)("button",{className:"btn bg-danger fs-4",style:{marginLeft:"90%",marginTop:"-35px"},onClick:s,children:" X "}),t]})]}),document.getElementById("cart-root"))}var f=s(7407),v=s(5985),j=s(5904),N=s(3261),y=s.n(N);function k(){var e=y()(),t=(0,n.Z)(e,1)[0],s=(0,i.s0)(),a=(0,u.jD)(),o=(0,u.e2)();if(0===a.length)return(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"m-5 w-100 text-center text-light fs-3",children:"The Cart is Empty!"})});var l=function(){var e=(0,r.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userEmail"),e.next=3,fetch("https://techtastebackend.onrender.com/api/auth/orderData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_data:a,email:t,order_date:(new Date).toDateString()})});case 3:r=e.sent,console.log("JSON RESPONSE:::::",r.status),200===r.status&&(o({type:"DROP"}),v.Am.success("Order Successfull!"),s("/myorder  "));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(s){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.Z.post("https://techtastebackend.onrender.com/api/auth/razorpay-order-create",{amount:(r=s,isNaN(r)?"Please enter a valid number for INR":100*r)}).then((function(e){var s,r=e.data.order;r&&(console.log(r.id),s=r.id,new t({key:"rzp_test_N7iKIbYFI3runu",amount:"1",currency:"INR",name:"Tech taste",description:"Test Transaction",image:"https://i.ibb.co/qYFbR0M/Screenshot-2024-03-06-001657.png",order_id:s,handler:function(e){e.razorpay_order_id?l():alert("something went wrong")},prefill:{name:"Meenakshi Sharma",email:"exampleemail.com",contact:"8320506797"},method:"googlepay",notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"}}).open())})).catch((function(e){console.log(e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}var r}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),m=a.reduce((function(e,t){return e+t.price}),0);return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md",children:[(0,x.jsxs)("table",{className:"table table-hover ",children:[(0,x.jsx)("thead",{className:" text-success fs-4",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",children:"#"}),(0,x.jsx)("th",{scope:"col",children:"Name"}),(0,x.jsx)("th",{scope:"col",children:"Quantity"}),(0,x.jsx)("th",{scope:"col",children:"Option"}),(0,x.jsx)("th",{scope:"col",children:"Amount"}),(0,x.jsx)("th",{scope:"col"})]})}),(0,x.jsx)("tbody",{children:a.map((function(e,t){return(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"row",className:"text-light",children:t+1}),(0,x.jsx)("td",{className:"text-light",children:e.name}),(0,x.jsx)("td",{className:"text-light",children:e.qty}),(0,x.jsx)("td",{className:"text-light",children:e.size}),(0,x.jsx)("td",{className:"text-light",children:e.price}),(0,x.jsxs)("td",{className:"text-light",children:[(0,x.jsx)("button",{type:"button",className:"btn p-0 text-light",children:(0,x.jsx)(f.Z,{onClick:function(){o({type:"REMOVE",index:t}),v.Am.success("removed from the cart")}})})," "]})]})}))})]}),(0,x.jsx)("div",{children:(0,x.jsxs)("h1",{className:"fs-2 text-success",children:["Total Price: ",m,"/-"]})}),(0,x.jsx)("div",{children:(0,x.jsxs)("button",{className:"btn bg-success mt-5 ",onClick:function(){return d(m)},children:[" ","Order Now"," "]})})]})})}function w(e){var t=(0,o.useState)(!1),s=(0,n.Z)(t,2),a=s[0],h=s[1];localStorage.setItem("temp","first");var p=(0,i.s0)(),g=localStorage.getItem("isAdmin");!0===g&&(x.Fragment,l.rU);var f=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=window.confirm("sure you want to delete all orders ?")){e.next=5;break}return e.next=3,fetch("https://techtastebackend.onrender.com/allordersdelete",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(){v.Am.success("Orders Deleted"),window.location.reload()}));case 3:e.next=6;break;case 5:v.Am.success("Canceled");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=(0,u.jD)();return(0,x.jsx)("div",{children:(0,x.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark  position-sticky",style:{boxShadow:"0px 10px 20px black",filter:"blur(20)",position:"fixed",zIndex:"10",width:"100%",backgroundColor:"#0b325a"},children:(0,x.jsxs)("div",{className:"container-fluid",children:[(0,x.jsx)(l.rU,{className:"navbar-brand fs-1 ",to:"/",children:(0,x.jsx)("b",{children:"Tech Taste"})}),(0,x.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,x.jsx)("span",{className:"navbar-toggler-icon"})}),(0,x.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,x.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,x.jsxs)("li",{className:"nav-item",children:[(0,x.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/",children:"Home"})," "]}),localStorage.getItem("token")?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("li",{className:"nav-item",children:[(0,x.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/myorder",children:"My Orders"})," "]})}):"","true"===g?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/addfooddata",children:"Add Product"})}):"","true"===g?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/allorders",children:"All Orders"})}):"","true"===g?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/productlisting",children:"Product Listing"})}):""]}),localStorage.getItem("token")?(0,x.jsxs)("div",{children:["true"===g?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"btn bg-danger text-white mx-2 ",onClick:f,children:"Delete Orders"})}):"",(0,x.jsxs)("div",{className:"btn bg-white text-success2 mx-2 ",onClick:function(){h(!0)},children:[(0,x.jsx)(d.Z,{color:"secondary",badgeContent:j.length,children:(0,x.jsx)(m.Z,{color:"red"})}),"Cart"]}),a?(0,x.jsx)(b,{onClose:function(){return h(!1)},children:(0,x.jsx)(k,{})}):"",(0,x.jsx)("button",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("isAdmin"),p("/login"),v.Am.success("see you soon!")},className:"btn bg-white text-success2",children:"Logout"})]}):(0,x.jsxs)("form",{className:"d-flex",children:[(0,x.jsx)(l.rU,{className:"btn bg-white text-success mx-1 ",to:"/login",children:"Login"}),(0,x.jsx)(l.rU,{className:"btn bg-white text-success mx-1",to:"/signup",children:"Signup"})]})]})]})})})}},8262:function(e,t,s){s.r(t),s.d(t,{default:function(){return p}});var r=s(4942),n=s(1413),a=s(5861),c=s(885),o=s(7757),l=s.n(o),i=s(2791),d=s(5833),m=s(6871),u=s(3504),h=s(5985),x=s(184);function p(){var e=(0,i.useState)({email:"",password:""}),t=(0,c.Z)(e,2),s=t[0],o=t[1],p=(0,m.s0)(),g=function(){var e=(0,a.Z)(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://techtastebackend.onrender.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email,password:s.password})});case 3:return r=e.sent,e.next=6,r.json();case 6:(n=e.sent).success?(localStorage.setItem("userEmail",s.email),localStorage.setItem("token",n.authToken),localStorage.setItem("isAdmin",n.user.isAdmin),p("/")):h.Am.error("Enter Valid Credentials");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){o((0,n.Z)((0,n.Z)({},s),{},(0,r.Z)({},e.target.name,e.target.value)))};return(0,x.jsxs)("div",{style:{backgroundImage:'url("https://images.pexels.com/photos/326278/pexels-photo-326278.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1")',height:"100vh",backgroundSize:"cover"},children:[(0,x.jsx)("div",{children:(0,x.jsx)(d.Z,{})}),(0,x.jsx)("div",{className:"container",children:(0,x.jsxs)("form",{className:"w-50 m-auto mt-5 border bg-dark border-success rounded",onSubmit:g,children:[(0,x.jsxs)("div",{className:"m-3",children:[(0,x.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label text-light",children:"Email address"}),(0,x.jsx)("input",{type:"email",className:"form-control",name:"email",value:s.email,onChange:b,"aria-describedby":"emailHelp"}),(0,x.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone."})]}),(0,x.jsxs)("div",{className:"m-3",children:[(0,x.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label text-light",children:"Password"}),(0,x.jsx)("input",{type:"password",className:"form-control",value:s.password,onChange:b,name:"password"})]}),(0,x.jsx)("button",{type:"submit",className:"m-3 btn btn-success",children:"Submit"}),(0,x.jsx)(u.rU,{to:"/signup",className:"m-3 mx-1 btn btn-danger",children:"New User"})]})})]})}}}]);
//# sourceMappingURL=262.dc752dd9.chunk.js.map