"use strict";(self.webpackChunkmernapp=self.webpackChunkmernapp||[]).push([[416],{8859:function(e,t,s){s.d(t,{Z:function(){return r}});s(2791);var n=s(184);function r(){return(0,n.jsx)("div",{style:{backgroundColor:"#0b325a",display:"none"},children:(0,n.jsx)("div",{className:"container",children:(0,n.jsxs)("footer",{className:"d-flex flex-wrap justify-content-between  align-items-center py-3 my-4 border-top",children:[(0,n.jsxs)("div",{className:"col-md-4 d-flex align-items-center",children:[(0,n.jsx)("a",{href:"/",className:"mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1"}),(0,n.jsx)("span",{className:"text-muted",children:"\xa9 2022 Tech Taste, Inc"})]}),(0,n.jsxs)("ul",{className:"nav col-md-4 justify-content-end list-unstyled d-flex",children:[(0,n.jsx)("li",{className:"ms-3",children:(0,n.jsx)("a",{className:"text-muted",href:"/",children:(0,n.jsx)("svg",{className:"bi",width:"24",height:"24",children:(0,n.jsx)("use",{})})})}),(0,n.jsx)("li",{className:"ms-3",children:(0,n.jsx)("a",{className:"text-muted",href:"/",children:(0,n.jsx)("svg",{className:"bi",width:"24",height:"24",children:(0,n.jsx)("use",{})})})}),(0,n.jsx)("li",{className:"ms-3",children:(0,n.jsx)("a",{className:"text-muted",href:"/",children:(0,n.jsx)("svg",{className:"bi",width:"24",height:"24",children:(0,n.jsx)("use",{})})})})]})]})})})}},5833:function(e,t,s){s.d(t,{Z:function(){return w}});var n=s(5861),r=s(885),a=s(7757),c=s.n(a),i=s(2791),l=s(3504),o=s(6871),d=s(4364),h=s(8086),m=s(3524),x=s(4164),u=s(184),p={position:"fixed",top:"50%",left:"50%",backgroundColor:"rgb(34,34,34)",transform:"translate(-50%, -50%)",zIndex:1e3,height:"90%",width:"90%"},j={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3};function g(e){var t=e.children,s=e.onClose;return x.createPortal((0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:j}),(0,u.jsxs)("div",{style:p,children:[(0,u.jsx)("button",{className:"btn bg-danger fs-4",style:{marginLeft:"90%",marginTop:"-35px"},onClick:s,children:" X "}),t]})]}),document.getElementById("cart-root"))}var f=s(7407),v=s(5985),b=s(5904),N=s(3261),y=s.n(N);function k(){var e=y()(),t=(0,r.Z)(e,1)[0],s=(0,o.s0)(),a=(0,m.jD)(),i=(0,m.e2)();if(0===a.length)return(0,u.jsx)("div",{children:(0,u.jsx)("div",{className:"m-5 w-100 text-center text-light fs-3",children:"The Cart is Empty!"})});var l=function(){var e=(0,n.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userEmail"),e.next=3,fetch("https://techtastebackend.onrender.com/api/auth/orderData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_data:a,email:t,order_date:(new Date).toDateString()})});case 3:n=e.sent,console.log("JSON RESPONSE:::::",n.status),200===n.status&&(i({type:"DROP"}),v.Am.success("Order Successfull!"),s("/myorder  "));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(c().mark((function e(s){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.post("https://techtastebackend.onrender.com/api/auth/razorpay-order-create",{amount:(n=s,isNaN(n)?"Please enter a valid number for INR":100*n)}).then((function(e){var s,n=e.data.order;n&&(console.log(n.id),s=n.id,new t({key:"rzp_test_N7iKIbYFI3runu",amount:"1",currency:"INR",name:"Tech taste",description:"Test Transaction",image:"https://i.ibb.co/qYFbR0M/Screenshot-2024-03-06-001657.png",order_id:s,handler:function(e){e.razorpay_order_id?l():alert("something went wrong")},prefill:{name:"Meenakshi Sharma",email:"exampleemail.com",contact:"8320506797"},method:"googlepay",notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"}}).open())})).catch((function(e){console.log(e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}var n}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),h=a.reduce((function(e,t){return e+t.price}),0);return(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md",children:[(0,u.jsxs)("table",{className:"table table-hover ",children:[(0,u.jsx)("thead",{className:" text-success fs-4",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",children:"#"}),(0,u.jsx)("th",{scope:"col",children:"Name"}),(0,u.jsx)("th",{scope:"col",children:"Quantity"}),(0,u.jsx)("th",{scope:"col",children:"Option"}),(0,u.jsx)("th",{scope:"col",children:"Amount"}),(0,u.jsx)("th",{scope:"col"})]})}),(0,u.jsx)("tbody",{children:a.map((function(e,t){return(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"row",className:"text-light",children:t+1}),(0,u.jsx)("td",{className:"text-light",children:e.name}),(0,u.jsx)("td",{className:"text-light",children:e.qty}),(0,u.jsx)("td",{className:"text-light",children:e.size}),(0,u.jsx)("td",{className:"text-light",children:e.price}),(0,u.jsxs)("td",{className:"text-light",children:[(0,u.jsx)("button",{type:"button",className:"btn p-0 text-light",children:(0,u.jsx)(f.Z,{onClick:function(){i({type:"REMOVE",index:t}),v.Am.success("removed from the cart")}})})," "]})]})}))})]}),(0,u.jsx)("div",{children:(0,u.jsxs)("h1",{className:"fs-2 text-success",children:["Total Price: ",h,"/-"]})}),(0,u.jsx)("div",{children:(0,u.jsxs)("button",{className:"btn bg-success mt-5 ",onClick:function(){return d(h)},children:[" ","Order Now"," "]})})]})})}function w(e){var t=(0,i.useState)(!1),s=(0,r.Z)(t,2),a=s[0],x=s[1];localStorage.setItem("temp","first");var p=(0,o.s0)(),j=localStorage.getItem("isAdmin");!0===j&&(u.Fragment,l.rU);var f=function(){var e=(0,n.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=window.confirm("sure you want to delete all orders ?")){e.next=5;break}return e.next=3,fetch("https://techtastebackend.onrender.com/allordersdelete",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(){v.Am.success("Orders Deleted"),window.location.reload()}));case 3:e.next=6;break;case 5:v.Am.success("Canceled");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=(0,m.jD)();return(0,u.jsx)("div",{children:(0,u.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark  position-sticky",style:{boxShadow:"0px 10px 20px black",filter:"blur(20)",position:"fixed",zIndex:"10",width:"100%",backgroundColor:"#0b325a"},children:(0,u.jsxs)("div",{className:"container-fluid",children:[(0,u.jsx)(l.rU,{className:"navbar-brand fs-1 ",to:"/",children:(0,u.jsx)("b",{children:"Tech Taste"})}),(0,u.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,u.jsx)("span",{className:"navbar-toggler-icon"})}),(0,u.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,u.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,u.jsxs)("li",{className:"nav-item",children:[(0,u.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/",children:"Home"})," "]}),localStorage.getItem("token")?(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("li",{className:"nav-item",children:[(0,u.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/myorder",children:"My Orders"})," "]})}):"","true"===j?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/addfooddata",children:"Add Product"})}):"","true"===j?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/allorders",children:"All Orders"})}):"","true"===j?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/productlisting",children:"Product Listing"})}):""]}),localStorage.getItem("token")?(0,u.jsxs)("div",{children:["true"===j?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"btn bg-danger text-white mx-2 ",onClick:f,children:"Delete Orders"})}):"",(0,u.jsxs)("div",{className:"btn bg-white text-success2 mx-2 ",onClick:function(){x(!0)},children:[(0,u.jsx)(d.Z,{color:"secondary",badgeContent:b.length,children:(0,u.jsx)(h.Z,{color:"red"})}),"Cart"]}),a?(0,u.jsx)(g,{onClose:function(){return x(!1)},children:(0,u.jsx)(k,{})}):"",(0,u.jsx)("button",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("isAdmin"),p("/login"),v.Am.success("see you soon!")},className:"btn bg-white text-success2",children:"Logout"})]}):(0,u.jsxs)("form",{className:"d-flex",children:[(0,u.jsx)(l.rU,{className:"btn bg-white text-success mx-1 ",to:"/login",children:"Login"}),(0,u.jsx)(l.rU,{className:"btn bg-white text-success mx-1",to:"/signup",children:"Signup"})]})]})]})})})}},3416:function(e,t,s){s.r(t);var n=s(5861),r=s(885),a=s(7757),c=s.n(a),i=s(2791),l=s(8859),o=s(5833),d=s(184);t.default=function(){var e=(0,i.useState)({}),t=(0,r.Z)(e,2),s=t[0],a=t[1],h=function(){var e=(0,n.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://techtastebackend.onrender.com/allorders",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(){var e=(0,n.Z)(c().mark((function e(t){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return s=e.sent,e.next=5,a(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){h()}),[]);var m=[];m.reverse();s.length&&s&&s.map((function(e){for(var t=e.order_data,s=0;s<t.length;s++){t[s].map((function(e){m.push(e)}))}}));return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)(o.Z,{})}),(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"row",children:(null===m||void 0===m?void 0:m.length)>0?(0,d.jsx)(d.Fragment,{children:m.map((function(e,t){return(0,d.jsx)(d.Fragment,{children:e.Order_date?(0,d.jsxs)("div",{children:[" ",(0,d.jsxs)("div",{className:"m-auto text-dark mt-2",children:[e.Order_date,(0,d.jsx)("hr",{})]})]}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,d.jsxs)("div",{className:"card mt-3",style:{maxHeight:"560px"},children:[(0,d.jsx)("div",{className:"card-header ",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"From :"})," ",e.email]})}),(0,d.jsx)("img",{src:e.img,className:"card-img-top",alt:"...",style:{height:"120px",objectFit:"fill"}}),(0,d.jsxs)("div",{className:"card-body",style:{height:"178px"},children:[(0,d.jsx)("h6",{className:"card-title text-dark",children:e.name}),(0,d.jsx)("hr",{}),(0,d.jsxs)("div",{className:"container w-100 p-0",style:{height:"38px"},children:[(0,d.jsxs)("span",{className:"m-1 text-dark",children:["(",e.qty]}),(0,d.jsxs)("span",{className:"m-1 text-dark",children:["* ",e.size,")"]}),(0,d.jsxs)("div",{className:"text-dark d-inline ms-2 h-100 w-20 fs-5",children:["\u20b9",e.price,"/-"]}),(0,d.jsx)("hr",{}),(0,d.jsx)("div",{className:"w-100",children:(0,d.jsxs)("button",{className:"btn btn-outline-primary form-control ",onClick:function(){window.confirm("Order Completed?")},disabled:!0,children:[(0,d.jsx)("b",{children:"Token Number :-"}),e.orderNo]})})]})]})]})})})})}))}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("h1",{className:"text-danger mt-5 text-center",children:"No orders"})})})}),(0,d.jsx)(l.Z,{})]})}}}]);
//# sourceMappingURL=416.bbff9693.chunk.js.map