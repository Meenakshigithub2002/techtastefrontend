"use strict";(self.webpackChunkmernapp=self.webpackChunkmernapp||[]).push([[192],{5833:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(5861),s=n(885),a=n(7757),c=n.n(a),o=n(2791),i=n(3504),l=n(6871),d=n(4364),u=n(8086),h=n(3524),m=n(4164),x=n(184),p={position:"fixed",top:"50%",left:"50%",backgroundColor:"rgb(34,34,34)",transform:"translate(-50%, -50%)",zIndex:1e3,height:"90%",width:"90%"},g={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .7)",zIndex:1e3};function f(e){var t=e.children,n=e.onClose;return m.createPortal((0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:g}),(0,x.jsxs)("div",{style:p,children:[(0,x.jsx)("button",{className:"btn bg-danger fs-4",style:{marginLeft:"90%",marginTop:"-35px"},onClick:n,children:" X "}),t]})]}),document.getElementById("cart-root"))}var j=n(7407),b=n(5985),v=n(5904),N=n(3261),w=n.n(N);function y(){var e=w()(),t=(0,s.Z)(e,1)[0],n=(0,l.s0)(),a=(0,h.jD)(),o=(0,h.e2)();if(0===a.length)return(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"m-5 w-100 text-center text-light fs-3",children:"The Cart is Empty!"})});var i=function(){var e=(0,r.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userEmail"),e.next=3,fetch("https://techtastebackend.onrender.com/api/auth/orderData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order_data:a,email:t,order_date:(new Date).toDateString()})});case 3:r=e.sent,console.log("JSON RESPONSE:::::",r.status),200===r.status&&(o({type:"DROP"}),b.Am.success("Order Successfull!"),n("/myorder  "));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.Z.post("https://techtastebackend.onrender.com/api/auth/razorpay-order-create",{amount:(r=n,isNaN(r)?"Please enter a valid number for INR":100*r)}).then((function(e){var n,r=e.data.order;r&&(console.log(r.id),n=r.id,new t({key:"rzp_test_N7iKIbYFI3runu",amount:"1",currency:"INR",name:"Tech taste",description:"Test Transaction",image:"https://i.ibb.co/qYFbR0M/Screenshot-2024-03-06-001657.png",order_id:n,handler:function(e){e.razorpay_order_id?i():alert("something went wrong")},prefill:{name:"Meenakshi Sharma",email:"exampleemail.com",contact:"8320506797"},method:"googlepay",notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"}}).open())})).catch((function(e){console.log(e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}var r}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),u=a.reduce((function(e,t){return e+t.price}),0);return(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md",children:[(0,x.jsxs)("table",{className:"table table-hover ",children:[(0,x.jsx)("thead",{className:" text-success fs-4",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"col",children:"#"}),(0,x.jsx)("th",{scope:"col",children:"Name"}),(0,x.jsx)("th",{scope:"col",children:"Quantity"}),(0,x.jsx)("th",{scope:"col",children:"Option"}),(0,x.jsx)("th",{scope:"col",children:"Amount"}),(0,x.jsx)("th",{scope:"col"})]})}),(0,x.jsx)("tbody",{children:a.map((function(e,t){return(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{scope:"row",className:"text-light",children:t+1}),(0,x.jsx)("td",{className:"text-light",children:e.name}),(0,x.jsx)("td",{className:"text-light",children:e.qty}),(0,x.jsx)("td",{className:"text-light",children:e.size}),(0,x.jsx)("td",{className:"text-light",children:e.price}),(0,x.jsxs)("td",{className:"text-light",children:[(0,x.jsx)("button",{type:"button",className:"btn p-0 text-light",children:(0,x.jsx)(j.Z,{onClick:function(){o({type:"REMOVE",index:t}),b.Am.success("removed from the cart")}})})," "]})]})}))})]}),(0,x.jsx)("div",{children:(0,x.jsxs)("h1",{className:"fs-2 text-success",children:["Total Price: ",u,"/-"]})}),(0,x.jsx)("div",{children:(0,x.jsxs)("button",{className:"btn bg-success mt-5 ",onClick:function(){return d(u)},children:[" ","Order Now"," "]})})]})})}function k(e){var t=(0,o.useState)(!1),n=(0,s.Z)(t,2),a=n[0],m=n[1];localStorage.setItem("temp","first");var p=(0,l.s0)(),g=localStorage.getItem("isAdmin");!0===g&&(x.Fragment,i.rU);var j=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=window.confirm("sure you want to delete all orders ?")){e.next=5;break}return e.next=3,fetch("https://techtastebackend.onrender.com/allordersdelete",{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(){b.Am.success("Orders Deleted"),window.location.reload()}));case 3:e.next=6;break;case 5:b.Am.success("Canceled");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=(0,h.jD)();return(0,x.jsx)("div",{children:(0,x.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark  position-sticky",style:{boxShadow:"0px 10px 20px black",filter:"blur(20)",position:"fixed",zIndex:"10",width:"100%",backgroundColor:"#0b325a"},children:(0,x.jsxs)("div",{className:"container-fluid",children:[(0,x.jsx)(i.rU,{className:"navbar-brand fs-1 ",to:"/",children:(0,x.jsx)("b",{children:"Tech Taste"})}),(0,x.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,x.jsx)("span",{className:"navbar-toggler-icon"})}),(0,x.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,x.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,x.jsxs)("li",{className:"nav-item",children:[(0,x.jsx)(i.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/",children:"Home"})," "]}),localStorage.getItem("token")?(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("li",{className:"nav-item",children:[(0,x.jsx)(i.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/myorder",children:"My Orders"})," "]})}):"","true"===g?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(i.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/addfooddata",children:"Add Product"})}):"","true"===g?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(i.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/allorders",children:"All Orders"})}):"","true"===g?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(i.rU,{className:"nav-link fs-5 mx-3 active","aria-current":"page",to:"/productlisting",children:"Product Listing"})}):""]}),localStorage.getItem("token")?(0,x.jsxs)("div",{children:["true"===g?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"btn bg-danger text-white mx-2 ",onClick:j,children:"Delete Orders"})}):"",(0,x.jsxs)("div",{className:"btn bg-white text-success2 mx-2 ",onClick:function(){m(!0)},children:[(0,x.jsx)(d.Z,{color:"secondary",badgeContent:v.length,children:(0,x.jsx)(u.Z,{color:"red"})}),"Cart"]}),a?(0,x.jsx)(f,{onClose:function(){return m(!1)},children:(0,x.jsx)(y,{})}):"",(0,x.jsx)("button",{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("isAdmin"),p("/login"),b.Am.success("see you soon!")},className:"btn bg-white text-success2",children:"Logout"})]}):(0,x.jsxs)("form",{className:"d-flex",children:[(0,x.jsx)(i.rU,{className:"btn bg-white text-success mx-1 ",to:"/login",children:"Login"}),(0,x.jsx)(i.rU,{className:"btn bg-white text-success mx-1",to:"/signup",children:"Signup"})]})]})]})})})}},7192:function(e,t,n){n.r(t);var r=n(1413),s=n(5861),a=n(885),c=n(7757),o=n.n(c),i=n(2791),l=n(5833),d=n(3513),u=n(3504),h=n(184);t.default=function(){var e=(0,i.useState)(!0),t=(0,a.Z)(e,2),n=(t[0],t[1]),c=(0,i.useState)([]),m=(0,a.Z)(c,2),x=(m[0],m[1]),p=(0,i.useState)([]),g=(0,a.Z)(p,2),f=g[0],j=g[1];function b(e){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)(o().mark((function e(t){var r,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://techtastebackend.onrender.com/foodData",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return s=e.sent,e.next=5,s.json();case 5:s=e.sent,j(null===(r=s)||void 0===r?void 0:r.reverse()),x(s),n(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){var e=(0,s.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://techtastebackend.onrender.com/delete-product-by-id/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"}});case 2:return e.sent,e.next=5,b();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){b()}),[window.location]);var w=[{name:"",selector:function(e){return e.number},grow:1},{name:"Image",cell:function(e){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("img",{style:{height:"40px",width:"40px",borderRadius:"50%"},src:e.img})})},grow:1},{name:"Name",selector:function(e){return e.name},grow:3},{name:"Price options",cell:function(e){var t="";return e.options.map((function(n,r){0===r||r===e.options.length?t+="".concat(n):t+=",".concat(n)})),(0,h.jsx)(h.Fragment,{children:t})},grow:2},{name:"Actions",cell:function(e){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){N(e._id),setTimeout((0,s.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)}))),2e3)},children:"Delete"})})}}];return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)(l.Z,{})}),(0,h.jsxs)("div",{className:"card mx-3 mt-2",children:[(0,h.jsxs)("div",{className:"d-flex justify-content-between mx-3 my-2 justify-content-between",children:[(0,h.jsx)("h2",{className:"text-center ",children:"Products"}),(0,h.jsx)("h2",{className:"text-center pr-2",children:(0,h.jsx)(u.rU,{to:"/addfooddata",children:(0,h.jsx)("button",{className:"btn btn-sm btn-success ",children:"Add New Product "})})})]}),(0,h.jsx)("hr",{}),(0,h.jsx)("div",{children:(0,h.jsx)(d.ZP,{columns:w,noHeader:!0,data:null===f||void 0===f?void 0:f.map((function(e,t){return(0,r.Z)((0,r.Z)({},e),{},{number:t+1})})),pagination:!0,paginationComponentOptions:{rowsPerPageText:"Products per page"},highlightOnHover:!0})})]})]})}}}]);
//# sourceMappingURL=192.8eefa72e.chunk.js.map